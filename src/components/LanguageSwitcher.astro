---
import { languages } from '../i18n/config';
import { getAlternateURLs } from '../i18n/utils';

const { currentLang } = Astro.props;
const currentPath = Astro.url.pathname;
const alternateURLs = getAlternateURLs(currentPath, currentLang);
---

<div class="language-switcher">
  {Object.entries(languages).map(([lang, label]) => (
    <a 
      href={alternateURLs[lang as keyof typeof alternateURLs]}
      class={`p-1 mx-1 rounded text-(--color-primary) hover:bg-(--color-primary) hover:text-(--color-bg) ${currentLang === lang ? 'font-bold p-2 bg-(--color-bg)' : 'text-white'} ${currentLang === lang? 'hover:text-(--color-bg)' : 'hover:text-(--color-text)'}`}
      aria-label={`Switch to ${label}`}
    >
      {lang.toUpperCase()}
    </a>
  ))}
</div>