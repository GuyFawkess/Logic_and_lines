---
const {
    title,
    description,
    img,
    link,
    index,
    slug,
    specification,
    className = "",
} = Astro.props;
---

<article
    data-duration="700"
    data-animate="zoom-in"
    class={`opacity-0 service-card group relative overflow-hidden rounded-2xl w-full h-[500px] shadow-[0_10px_30px_rgba(0,0,0,0.3)] transition-all duration-500 ease-out hover:shadow-[0_20px_40px_rgba(255,170,0,0.2)] ${className}`}
>
    <div class="absolute inset-0 bg-(--color-bg) rounded-2xl">
        <!-- <div
            class="absolute inset-0 bg-linear-to-b from-transparent via-transparent to-[rgba(0,0,0,0.4)] rounded-2xl"
        >
        </div> -->
        <!-- <div
            class="absolute top-0 left-0 right-0 h-px bg-linear-to-r from-transparent via-[rgba(255,170,0,0.3)] to-transparent"
        >
        </div> -->
        <!-- <div
            class="absolute bottom-0 left-0 right-0 h-[2px] bg-linear-to-r from-transparent via-[rgba(255,170,0,0.2)] to-transparent"
        >
        </div> -->
    </div>

    <div class="relative z-10 h-full flex flex-col">
        <!-- Image Container - No padding -->
        <div class="shrink-0 h-[240px] overflow-hidden rounded-t-xl">
            <img
                transition:name={`img-${slug}`}
                src={img}
                alt={title}
                width="320"
                height="200"
                loading={index > 2 ? "lazy" : "eager"}
                decoding={index > 2 ? "async" : "auto"}
                class="w-full h-full object-cover object-center transition-transform duration-500 ease-out group-hover:scale-105"
            />
        </div>

        <!-- Content - With padding -->
        <div class="flex-1 flex flex-col px-6 pt-6 pb-8">
            <!-- Specification Tag -->
            <p
                class="text-xs uppercase tracking-wider text-(--color-primary) font-bold mb-3"
            >
                {specification}
            </p>

            <!-- Title -->
            <h3
                class="text-2xl font-bold text-(--color-text) mb-4 leading-tight"
            >
                {title}
            </h3>

            <!-- Description -->
            <p class="text-sm text-gray-300 leading-relaxed mb-6 flex-1">
                {description}
            </p>

            <div class="mt-auto">
                <a
                    href={link}
                    class="inline-flex items-center gap-2 text-[#FFAA00] font-semibold text-sm transition-all duration-300 hover:gap-3 hover:text-[#FFD580] group/link"
                    aria-label={`Ver más sobre ${title}`}
                >
                    Ver solución
                    <svg
                        class="w-4 h-4 transition-transform duration-300 group-hover/link:translate-x-1"
                        fill="none"
                        viewBox="0 0 24 24"
                        stroke="currentColor"
                    >
                        <path
                            stroke-linecap="round"
                            stroke-linejoin="round"
                            stroke-width="2"
                            d="M17 8l4 4m0 0l-4 4m4-4H3"></path>
                    </svg>
                </a>
            </div>
        </div>
    </div>

    <style>
        .line-clamp-3 {
            display: -webkit-box;
            -webkit-line-clamp: 3;
            -webkit-box-orient: vertical;
            overflow: hidden;
        }
    </style>
</article>
